<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Send error reports to the Google Error Reporting service API • googleErrorReportingR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Send error reports to the Google Error Reporting service API">
<meta property="og:description" content="This packages allows you to send error reports to the Google Error Reporting service &lt;https://cloud.google.com/error-reporting/&gt; and view errors and assign error status in the Google Error Reporting UI.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">googleErrorReportingR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/error_reporting.html">Get started with error reporting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ixpantia/googleErrorReportingR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="ixplorer-">ixplorer <a><img src="https://storage.googleapis.com/ixplorer/googleErrorReportingR.svg" align="right" width="30%"></a>
<a class="anchor" aria-label="anchor" href="#ixplorer-"></a>
</h1></div>

</div>
<div class="section level1">
<h1 id="googleerrorreportingr">googleErrorReportingR<a class="anchor" aria-label="anchor" href="#googleerrorreportingr"></a>
</h1>
<p>This is an R wrapper for the Google Cloud Platform Error Reporting API. It uses the Error Reporting API as defined in the <a href="https://cloud.google.com/error-reporting/reference/rest/v1beta1/projects.events/report" class="external-link">projects.events.report</a> method.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of googleErrorReportingR from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ixpantia/googleErrorReportingR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Before you start, please set up a file called <code>.Renviron</code> that contains the following line.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>PROJECT_ID<span class="ot">=</span><span class="er">&lt;</span>your gcp project id<span class="sc">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ERROR_REPORTING_API_KEY<span class="ot">=</span><span class="er">&lt;</span>your api key<span class="sc">&gt;</span></span></code></pre></div>
<p>If you are running a session, then restart your R session so that the environmental variables are read.</p>
<p>You can pass on the <code>project_id</code> and <code>api_key</code> to the function call directely, but since we typically use this many time in one code-base we default to the values in the environmental variables so that instead of:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/report_error.html">report_error</a></span><span class="op">(</span><span class="va">project_id</span>, <span class="va">api_key</span>, <span class="va">message</span><span class="op">)</span></span></code></pre></div>
<p>We can call</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/report_error.html">report_error</a></span><span class="op">(</span><span class="va">message</span><span class="op">)</span></span></code></pre></div>
<p>and put the effort in defining the error message at each location in the code that we want to monitor.</p>
<p>the following is a basic example of usage:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ixpantia/googleErrorReportingR" class="external-link">googleErrorReportingR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">message</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/format_error_message.html">format_error_message</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">message</span><span class="op">$</span><span class="va">serviceContext</span><span class="op">$</span><span class="va">service</span> <span class="op">&lt;-</span> <span class="st">"A demo service"</span></span>
<span><span class="va">message</span><span class="op">$</span><span class="va">serviceContext</span><span class="op">$</span><span class="va">version</span> <span class="op">&lt;-</span> <span class="st">"v0.3.4"</span></span>
<span></span>
<span><span class="fu">googleErrorReportingR</span><span class="fu">::</span><span class="fu"><a href="reference/report_error.html">report_error</a></span><span class="op">(</span><span class="va">message</span><span class="op">)</span></span>
<span><span class="co">#&gt; Response [https://clouderrorreporting.googleapis.com/v1beta1/projects/infraestructura-pruebas/events:report?key=AIzaSyBCaoUQLO64yHmHt7CagO39V0IFGA86hMI]</span></span>
<span><span class="co">#&gt;   Date: 2022-08-21 01:48</span></span>
<span><span class="co">#&gt;   Status: 200</span></span>
<span><span class="co">#&gt;   Content-Type: application/json; charset=UTF-8</span></span>
<span><span class="co">#&gt;   Size: 3 B</span></span>
<span><span class="co">#&gt; {}</span></span></code></pre></div>
<p>If your project-id and api_key are set up correctly the message above will appear in the Google Error Reporting UI as follows:</p>
<div class="figure">
<img src="reference/figures/google_error_reporting_ui.png" alt=""><p class="caption">Screenshot of the message as listed in the Google Error Reporting UI</p>
</div>
</div>
<div class="section level2">
<h2 id="adding-details">Adding details<a class="anchor" aria-label="anchor" href="#adding-details"></a>
</h2>
<p>Note that the message we are sending, once we convert the list to the json body as required by the API, contains all the information elements that we can add to the message.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">toJSON</span><span class="op">(</span><span class="va">message</span>, auto_unbox <span class="op">=</span> <span class="cn">TRUE</span>, pretty <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "message": "Error description",</span></span>
<span><span class="co">#&gt;   "serviceContext": {</span></span>
<span><span class="co">#&gt;     "service": "A demo service",</span></span>
<span><span class="co">#&gt;     "version": "v0.3.4"</span></span>
<span><span class="co">#&gt;   },</span></span>
<span><span class="co">#&gt;   "context": {</span></span>
<span><span class="co">#&gt;     "httpRequest": {</span></span>
<span><span class="co">#&gt;       "method": "GET",</span></span>
<span><span class="co">#&gt;       "url": "https://example.com",</span></span>
<span><span class="co">#&gt;       "userAgent": "",</span></span>
<span><span class="co">#&gt;       "referrer": "",</span></span>
<span><span class="co">#&gt;       "responseStatusCode": "500",</span></span>
<span><span class="co">#&gt;       "remoteIp": "192.178.0.0.1"</span></span>
<span><span class="co">#&gt;     },</span></span>
<span><span class="co">#&gt;     "user": "UserID",</span></span>
<span><span class="co">#&gt;     "reportLocation": {</span></span>
<span><span class="co">#&gt;       "filePath": "/",</span></span>
<span><span class="co">#&gt;       "lineNumber": 0,</span></span>
<span><span class="co">#&gt;       "functionName": "my_function"</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;   }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>Please read the vignette for further details on how to configure each and everyone of them.</p>
</div>
<div class="section level2">
<h2 id="roadmap">Roadmap<a class="anchor" aria-label="anchor" href="#roadmap"></a>
</h2>
<p>We are working on the next version of <code>googleErrorReportingR</code> to include the use of the <code>list</code> endpoint.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ixpantia/googleErrorReportingR/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing googleErrorReportingR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Frans van Dunné <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-7853-2811" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=googleErrorReportingR" class="external-link"><img src="https://www.r-pkg.org/badges/version/googleErrorReportingR" alt="CRAN status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Frans van Dunné.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
